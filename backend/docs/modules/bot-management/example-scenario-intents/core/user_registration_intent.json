{
  "intent_id": "user_registration",
  "intent_name": "User Registration and Data Collection",
  "intent_type": "core",
  "version": "1.0",
  "dependencies": ["welcome"],
  "entry_points": ["ask_lastname", "from_welcome"],
  "exit_points": ["proceed_to_confirmation"],
  "context_requirements": {
    "user_profile": "required",
    "collected_data": {
      "first_name": "required"
    }
  },
  "start_step": "ask_lastname",
  "steps": {
    "ask_lastname": {
      "id": "ask_lastname",
      "type": "message",
      "message": {
        "text": "–ù–∞–ø–∏—à–∏ —Å–≤–æ—é —Ñ–∞–º–∏–ª–∏—é."
      },
      "expected_input": {
        "type": "text",
        "variable": "last_name",
        "validation": {
          "min_length": 2,
          "max_length": 50,
          "pattern": "^[–∞-—è–ê-–Ø—ë–Åa-zA-Z\\s-]+$",
          "error_message": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ñ–∞–º–∏–ª–∏—é (—Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, –ø—Ä–æ–±–µ–ª—ã –∏ –¥–µ—Ñ–∏—Å—ã)"
        }
      },
      "next_step": "ask_citizenship"
    },
    "ask_citizenship": {
      "id": "ask_citizenship",
      "type": "message",
      "message": {
        "text": "–ì—Ä–∞–∂–¥–∞–Ω—Å—Ç–≤–æ."
      },
      "buttons": [
        {"text": "üá∑üá∫ –†–§", "value": "rf"},
        {"text": "üåè –°–ù–ì", "value": "cis"}
      ],
      "expected_input": {
        "type": "button",
        "variable": "citizenship"
      },
      "next_step": "ask_position"
    },
    "ask_position": {
      "id": "ask_position",
      "type": "message",
      "message": {
        "text": "–ö–µ–º —Ç—ã —Ä–∞–±–æ—Ç–∞–µ—à—å –≤ –ß–∏—Ö–æ?"
      },
      "buttons": [
        {"text": "üçú –§—É–¥-–≥–∏–¥", "value": "food-guide"},
        {"text": "üî™ –ü–æ–≤–∞—Ä", "value": "cook"},
        {"text": "üìã –ú–µ–Ω–µ–¥–∂–µ—Ä", "value": "manager"},
        {"text": "ü§ì –Ø –∏–∑ –æ—Ñ–∏—Å–∞", "value": "office"}
      ],
      "expected_input": {
        "type": "button",
        "variable": "position"
      },
      "next_step": "ask_project"
    },
    "ask_project": {
      "id": "ask_project",
      "type": "message",
      "message": {
        "text": "–ù–∞ –∫–∞–∫–æ–º –ø—Ä–æ–µ–∫—Ç–µ —Ç—ã –±—É–¥–µ—à—å —Ä–∞–±–æ—Ç–∞—Ç—å?"
      },
      "buttons": [
        {"text": "–ü—è—Ç–Ω–∏—Ü–∫–∞—è", "value": "pyatnitskaya"},
        {"text": "–ü—É—à–∫–∏–Ω—Å–∫–∞—è", "value": "pushkinskaya"},
        {"text": "–ú—è—Å–Ω–∏—Ü–∫–∞—è", "value": "myasnitskaya"},
        {"text": "–¶–≤ –ê–≤–∏–∞–ø–∞—Ä–∫", "value": "cv_aviapark"},
        {"text": "–¶–† –ê—Ä—Ç–ø–ª–µ–π", "value": "cr_artplay"},
        {"text": "–ù–æ–≤–æ—Å–ª–æ–±–æ–¥—Å–∫–∞—è", "value": "novoslobodskaya"},
        {"text": "–ë–µ–ª–æ—Ä—É—Å—Å–∫–∞—è", "value": "belorusskaya"},
        {"text": "–°–∏—Ç–∏ 1", "value": "city1"},
        {"text": "–°–∏—Ç–∏ 2", "value": "city2"},
        {"text": "–°—Ä–µ—Ç–µ–Ω–∫–∞", "value": "sretenka"},
        {"text": "–ö–û –ü–æ–∫—Ä–æ–≤–∫–∞", "value": "ko_pokrovka"}
      ],
      "expected_input": {
        "type": "button",
        "variable": "project"
      },
      "next_step": "ask_first_shift"
    },
    "ask_first_shift": {
      "id": "ask_first_shift",
      "type": "message",
      "message": {
        "text": "–ö–æ–≥–¥–∞ —Ç–≤–æ–π –ø–µ—Ä–≤—ã–π —Å—Ç–∞–∂–∏—Ä–æ–≤–æ—á–Ω—ã–π –¥–µ–Ω—å?\n–ù–∞–ø–∏—à–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è: 10.06 10:00"
      },
      "expected_input": {
        "type": "text",
        "variable": "first_shift_datetime",
        "validation": {
          "pattern": "^\\d{1,2}\\.\\d{1,2}\\s+\\d{1,2}:\\d{2}$",
          "error_message": "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –¥–∞—Ç—É –∏ –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ: 10.06 10:00"
        }
      },
      "next_step": "intent://core/data_confirmation/confirm_data"
    }
  }
}